╔════════════════════════════════════════════════════════════════════╗
║           SMART INSIGHTS - TESTING CHECKLIST                       ║
║                                                                    ║
║  Your system is ready! Follow this checklist to test everything.  ║
╚════════════════════════════════════════════════════════════════════╝

┌────────────────────────────────────────────────────────────────────┐
│ STEP 1: CONFIGURE OPENAI API KEY (REQUIRED!)                      │
└────────────────────────────────────────────────────────────────────┘
  
  □ Get API key from: https://platform.openai.com/api-keys
  □ Go to Supabase Dashboard → Edge Functions → Manage Secrets
  □ Add secret: OPENAI_API_KEY = sk-proj-your-key-here
  □ Save and wait 30 seconds
  
  ⚠️  WITHOUT THIS, NOTHING WILL WORK! ⚠️

┌────────────────────────────────────────────────────────────────────┐
│ STEP 2: QUICK FUNCTIONALITY TESTS (5 minutes)                     │
└────────────────────────────────────────────────────────────────────┘

  TEST 1: Manual Trigger
  □ Open Dashboard
  □ See "Smart Insights" card (lime green)
  □ See urgency banner: "1 deal needs attention"
  □ Click "Analyze My Deals" button
  □ Wait 3-5 seconds
  □ Insights appear with summary and cards
  
  TEST 2: Cache Verification
  □ Click "Analyze My Deals" again immediately
  □ Results appear in <1 second
  □ "Cached" badge is visible
  
  TEST 3: Force Refresh
  □ Click small "Refresh" button (top-right)
  □ New analysis runs (3-5 seconds)
  □ Fresh insights appear
  
  TEST 4: Auto-Trigger
  □ Close browser tab completely
  □ Reopen app → Dashboard
  □ Wait 2-3 seconds after page loads
  □ Insights appear automatically (no click)
  □ Console shows: "Auto-analysis triggered"
  
  TEST 5: Notifications
  □ Check bell icon in top nav
  □ Badge shows unread count
  □ Click bell to open panel
  □ See insight notifications
  □ Click notification to mark as read

┌────────────────────────────────────────────────────────────────────┐
│ STEP 3: VERIFY DATA QUALITY                                       │
└────────────────────────────────────────────────────────────────────┘

  □ Summary mentions "2019 Toyota Tundra"
  □ Insights reference "6 similar deals"
  □ Specific percentages mentioned (e.g., "8% below market")
  □ Dollar amounts included in explanations
  □ "Next Step" actions are specific and actionable
  □ Insights notice your offer ($51k) is above asking ($49,965)

┌────────────────────────────────────────────────────────────────────┐
│ STEP 4: MOBILE TESTING                                            │
└────────────────────────────────────────────────────────────────────┘

  □ Open DevTools (F12)
  □ Toggle device toolbar (Ctrl+Shift+M)
  □ Select iPhone 12 Pro
  □ Navigate to Dashboard
  □ Smart Insights card displays properly
  □ Text is readable
  □ Buttons are touch-friendly
  □ Accordions work smoothly

┌────────────────────────────────────────────────────────────────────┐
│ STEP 5: ERROR HANDLING                                            │
└────────────────────────────────────────────────────────────────────┘

  □ All tests pass without console errors
  □ Loading states appear during analysis
  □ Error messages are user-friendly
  □ No infinite loading spinners

┌────────────────────────────────────────────────────────────────────┐
│ SUCCESS CRITERIA                                                   │
└────────────────────────────────────────────────────────────────────┘

  You'll know it's working perfectly when:
  
  ✓ Analysis completes in 3-5 seconds
  ✓ Cache makes second load instant
  ✓ Auto-trigger fires on page reload
  ✓ Insights reference your specific vehicle and data
  ✓ Market data is mentioned ("based on 6 deals")
  ✓ Urgency banner appears
  ✓ Notifications show in bell icon
  ✓ Mobile view looks professional
  ✓ No console errors
  ✓ Everything feels fast and responsive

┌────────────────────────────────────────────────────────────────────┐
│ YOUR TEST DATA                                                     │
└────────────────────────────────────────────────────────────────────┘

  Deal: 2019 Toyota Tundra
  • Asking: $49,965
  • Your Offer: $51,000 (⚠️ ABOVE asking!)
  • Target: $46,163
  • Quote Expires: 2 days (URGENT)
  • Last Contact: 1 day ago
  
  Market Data: 6 similar Tundra deals
  • Years: 2018-2020
  • Average Savings: 6.2%
  • Price Range: $39,500 - $48,900

┌────────────────────────────────────────────────────────────────────┐
│ TROUBLESHOOTING                                                    │
└────────────────────────────────────────────────────────────────────┘

  Problem: "AI service not configured"
  Fix: Add OpenAI API key to Supabase Edge Function secrets
  
  Problem: Analysis stuck loading
  Fix: Check OpenAI API key is valid and has credits
  
  Problem: Auto-trigger doesn't fire
  Fix: Cache may still be valid OR no urgent conditions
  
  Problem: Insights seem generic
  Fix: Check market_data table has entries for your vehicle

┌────────────────────────────────────────────────────────────────────┐
│ DOCUMENTATION                                                      │
└────────────────────────────────────────────────────────────────────┘

  📄 SETUP_COMPLETE.md          - Start here! Setup summary
  📄 QUICK_TEST_REFERENCE.md    - 5-minute quick tests
  📄 TESTING_GUIDE.md           - Comprehensive 20-minute guide
  📄 AUTO_INSIGHTS_SYSTEM.md    - Full technical documentation

┌────────────────────────────────────────────────────────────────────┐
│ COST TRACKING                                                      │
└────────────────────────────────────────────────────────────────────┘

  Per Analysis: ~$0.01 (1 penny)
  With Caching: 50-70% savings
  10 Tests: ~$0.03-0.05 total
  
  Monitor: https://platform.openai.com/usage

┌────────────────────────────────────────────────────────────────────┐
│ READY TO START!                                                    │
└────────────────────────────────────────────────────────────────────┘

  1. Add OpenAI API key (REQUIRED)
  2. Open your app
  3. Go to Dashboard
  4. Follow TEST 1 above
  5. Check off items as you go
  
  Total Time: 10-15 minutes
  
  Good luck! 🚀

╔════════════════════════════════════════════════════════════════════╗
║  Questions? Check TESTING_GUIDE.md for detailed troubleshooting   ║
╚════════════════════════════════════════════════════════════════════╝
